U
    àD`gz  ã                   @   s2   d dl mZmZ d dlZde_dd„ Zdd „ ZdS )é    )Úgenerate_embeddingsÚsearch_indexNz¤"your api key"                 C   s   t | gƒd S )Nr   )r   )Úquery© r   ú$E:\rag_pipeline\app\query_handler.pyÚquery_to_embedding   s    r    c                 C   s@   t jjddddœdd| › d |› dœgd}|d	 d
 d
 d S )
Nzgpt-4ÚsystemzJYou are an assistant for answering user queries based on provided context.)ÚroleÚ contentÚuserz	Context: z

Question: )ÚmodelÚmessagesÚ choicesr   Ú messager
   )ÚopenaiZChatCompletionÚcreate)Ú contextr   Úresponser   r   r   Úgenerate_response   s    şş r   ) Ú
embeddingsr   r   r   Ú api_keyr    r   r   r   r   r   Ú<module>   s   